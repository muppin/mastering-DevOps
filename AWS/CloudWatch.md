## CloudWatch

**CloudWatch is a service which watches/monitors other services in AWS Cloud.**

- It is basically a gate-keeper/watchman for AWS cloud.
- It watches the activities that are being performed on AWS cloud.
- It helps in
   -  Monitoring
   -  Alerting
   -  Reporting
   -  Logging
- It provides
   - Real life metrics (How many API requests did my application receive, give me cpu utilisation for last 30 minutes)
   - Alalrming - to take actions on metrics outcome
   - Log Insights - it tells, this specific service tried to access this particular service
   - Custom metrics - memory utilisation, this metric has be explicitly sent to cloudwatch.
   - Cost Optimisation - cloud watch plays a critical role in cost optmisation.
   - scaling - when CPU utilisation crosses 80%, it sends the notification to ASG to bring up a new instance.

### CloudWatch Metrics

- Is a variable to monitor.
- Metrics have a timestamp.
- Dimension is an attribute of a metric, can have upto 30 dimensions per metric. eg. (instance id, environment etc)
- CloudWatch metrics can be streamed in near-real time to Kinesis Data Firehose or any other 3rd party party service provider such as datadog, splunk.
- If u enable **Detailed Monitoring**, we can get data of every 1 minute.
  
### CloudWatch Logs

- **Log Groups** - Log groups help organize and manage the logs generated by your applications and AWS resources.
- **Log stream** - A log stream is a sequence of log events that share the same source. Each log stream belongs to a log group.
- All the logs are encrypted by default.

### CloudWatch LogInsights

- Search and analyse data stored in ClodWatch Logs
- with the help of query

### CloudWatch Alarms

- Alarms are used to trigger notifications for any metric
- you can configure to trigger notification when the metric(CPU utilisation) crosses certain threshold.
- you can create a SNS topic to send a notification to mail id.

### CloudWatch Log Subscription

- Get real time log events from CloudWatch logs for processing and analysis.

### CloudWatch Logs for EC2

- By default, no logs from your EC2 machine will go to CloudWatch.
- You need to run a CloudWatch agent on EC2 to push the log files you want.
- The CloudWatch log agent can be setup on-premises too 


  
